# Product Backlog

O backlog do sistema foi organizado em **épicos**, que representam grandes blocos de funcionalidades. Cada épico é composto por **histórias de usuário (US)**, que descrevem de forma detalhada as necessidades dos diferentes perfis (aluno, professor, administrador e novo usuário).

## Épico: Gestão de Usuários e Acesso

| ID     | História de Usuário                                                                                                                                                                                                                                 | Status      | Observações                                                                                                                                                           |
| :----- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :---------- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| US-001 | Como novo usuário (Aluno, Professor, Coordenador), quero realizar meu primeiro acesso informando meu CPF, e-mail e definindo uma senha, para que eu possa aceder às funcionalidades adequadas ao meu papel.                                            | **Feito** | Endpoint `/usuarios/primeiro-acesso` implementado e generalizado para todos os tipos de usuário.        |
| US-002 | Como usuário cadastrado, quero aceder ao sistema através de uma tela de login única (usando e-mail e senha), para que após a autenticação eu seja automaticamente direcionado para minha área correspondente.                                           | **Feito** | Implementado no serviço `prosiga-login` (`POST /login`). O `prosiga-backend` valida o token via `deps.py`. |
| US-003 | ~~Como aluno em primeiro acesso, quero que o sistema gere automaticamente minha matrícula única e sequencial...~~                                                                                                                                       | **Removido** | Lógica alterada. Matrícula é pré-cadastrada via CSV (US-005).       |
| US-004 | Como usuário, quero recuperar minha senha através do meu e-mail cadastrado, para que eu possa restabelecer o acesso quando esquecer minhas credenciais.                                                                                              | **A Fazer** | Implementação adiada. Requer configuração de serviço de envio de e-mail e lógica de token.                                                                                            |
| US-005 | Como administrador (Coordenador), quero cadastrar novos usuários (Aluno, Professor, Coordenador) importando um arquivo CSV com seus dados (incluindo `codigo_curso` para alunos), para que apenas usuários pré-cadastrados possam realizar o primeiro acesso. | **Feito** | Endpoint `POST /usuarios/upload-csv` implementado e protegido para Coordenadores. Lê `codigo_curso`. |
| US-006 | Como administrador (Coordenador), quero desativar contas de usuários no sistema (exceto a própria), para controlar o acesso e manter a segurança quando necessário.                                                                                   | **Feito** | Endpoint `PATCH /usuarios/{cpf}/desativar` implementado.                                                                          |
| US-101 | Como Aluno, quero visualizar meu Índice de Rendimento Acadêmico (IRA) simplificado (média das notas finais 0-10 convertida para 0-5, começando em 5.0), para acompanhar meu desempenho geral.                                                      | **Feito** | Endpoint `GET /usuarios/me/ira` implementado. Cálculo no `MatriculaRepository`. |
| US-102 | Como Aluno, quero visualizar uma estimativa do semestre atual (contagem de períodos letivos distintos no histórico), para ter referência do meu progresso.                                                                                             | **Feito** | Endpoint `GET /usuarios/me/semestre-atual` implementado. Cálculo no `MatriculaRepository`. |

## Épico: Jornada Administrativa

| ID     | História de Usuário                                                                                                                                                                                                                                                             | Status    | Observações                                                                                                                                                                                     |
| :----- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ | :-------- | :---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US-009 | Como administrador (Coordenador), quero gerenciar períodos letivos (criar, editar, listar, excluir), definindo datas de início/fim de matrícula e trancamento, para organizar e controlar os ciclos acadêmicos.                                                               | **Feito** | CRUD implementado em `/periodos-letivos`.                                                          |
| US-010 | Como administrador (Coordenador), quero criar, editar, listar e excluir turmas por período letivo, definindo código, disciplina, professor responsável, número de vagas, horário e local, para disponibilizar disciplinas aos alunos.                                        | **Feito** | CRUD implementado em `/turmas`.                                                                         |
| US-011 | Como administrador (Coordenador), quero matricular alunos manualmente em turmas (identificando o aluno por matrícula), mesmo quando há restrições de vagas, para resolver casos excepcionais.                                                                                | **Feito** | Endpoint `POST /matriculas/admin/matricular` implementado. Ignora limite de vagas.                                        |
| US-012 | Como administrador (Coordenador), quero gerar relatórios gerenciais em PDF (Ocupação de Vagas por período, Turmas por Professor por período, Histórico de Aluno por matrícula, Lista de Alunos por Curso), para monitorar e acompanhar o funcionamento do sistema acadêmico. | **Feito** | Relatórios implementados. Alteração no modelo Aluno para adicionar `id_curso`. |
| US-026 | Como administrador (Coordenador), quero criar, editar, visualizar e excluir avisos gerais para um curso específico, para comunicar informações importantes aos alunos daquele curso.                                                                                           | **Feito** | CRUD implementado em `/avisos/curso` e endpoints genéricos `/avisos/{id_aviso}` (PUT/DELETE) protegidos para Coordenador/Professor. |

## Épico: Jornada do Aluno

| ID     | História de Usuário                                                                                                                                                                                            | Status    | Observações                                                                                                                                                                                          |
| :----- | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US-018 | Como aluno, quero visualizar as turmas disponíveis (filtrando por período letivo, semestre ideal da disciplina) e buscar turmas pelo código da disciplina, para facilitar o planeamento e escolhas de matrícula. | **Feito** | Endpoint `GET /turmas` implementado com filtros. Modelo `Disciplina` atualizado com `semestre_ideal` e `descricao`. `eh_obrigatoria` removido. |
| US-019 | Como aluno, quero me matricular em turmas do período letivo atual, respeitando disponibilidade de vagas e não me matriculando na mesma disciplina duas vezes no período.                                         | **Feito** | Endpoint `POST /matriculas` implementado com as validações. Limite de 7 matrículas removido do backend (responsabilidade do frontend). |
| US-022 | Como aluno, quero visualizar minhas matrículas atuais (incluindo status e notas parciais/finais), para acompanhar meu desempenho.                                                                                 | **Feito** | Endpoint `GET /matriculas/me` implementado. Retorna `MatriculaResponse` com `notas_avaliacoes`. |
| US-021 | Como aluno, quero exportar meu histórico acadêmico completo em formato PDF (incluindo semestre atual estimado e IRA), para ter um documento oficial.                                                          | **Feito** | Endpoint `GET /usuarios/me/historico-pdf` implementado. Usa `reportlab`.                                            |
| US-023 | Como aluno, quero visualizar a lista de colegas (nome e matrícula) matriculados na mesma turma que eu, para conhecer minha turma.                                                                              | **Feito** | Endpoint `GET /turmas/{id_turma}/colegas` implementado.                                                                        |
| US-024 | Como aluno, quero solicitar trancamento de disciplinas (alterar status da matrícula para TRANCADO) dentro do prazo definido no período letivo, para reorganizar minha carga horária.                              | **Feito** | Endpoint `PATCH /matriculas/{id_turma}/trancar` implementado com validação de prazo.                                         |
| US-027 | Como aluno, quero visualizar avisos das minhas turmas e do meu curso, para me manter atualizado.                                                                                                                | **Feito** | Endpoints `GET /avisos/turma/{id_turma}` e `GET /avisos/curso/{id_curso}` implementados.                                     |

## Épico: Jornada do Docente

| ID     | História de Usuário                                                                                                                                                                                                               | Status    | Observações                                                                                                                                                                                                                                |
| :----- | :-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | :-------- | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| US-013 | Como professor, quero visualizar exclusivamente as turmas sob minha responsabilidade no período letivo atual, para focar no gerenciamento das minhas disciplinas.                                                                     | **Feito** | Endpoint `GET /turmas/me` implementado e corrigido para filtrar pelo período atual.                                                              |
| US-015 | Como professor, quero lançar e atualizar as notas das avaliações (criando "colunas" de avaliação por turma) e a nota final/status dos alunos das minhas turmas (identificando o aluno por matrícula), para registar o desempenho. | **Feito** | Refatoração completa da lógica de notas (AvaliacaoTurma, NotaAvaliacao). Endpoints implementados em `/turmas` e `/matriculas`. |
| US-016 | Como professor, quero exportar as notas dos meus alunos (incluindo avaliações parciais, nota final e status) em formato de planilha (CSV), para facilitar análises.                                                               | **Feito** | Endpoint `GET /turmas/{id_turma}/exportar-csv` implementado.                                                               |
| US-017 | Como professor, quero gerar um diário de classe em PDF contendo notas (parciais, final) e status dos alunos por turma, para ter um relatório consolidado.                                                                          | **Feito** | Endpoint `GET /turmas/{id_turma}/diario-pdf` implementado. Usa `reportlab`.                                  |
| US-025 | Como professor, quero criar, editar, visualizar e excluir avisos específicos para minhas turmas, para manter os alunos informados.                                                                                                | **Feito** | CRUD implementado em `/avisos/turma` e endpoints genéricos `/avisos/{id_aviso}` (PUT/DELETE) protegidos para Professor.     |

---
